/*! SpectrumJS - v0.1.1a build generated at 2014-06-24 */
var Spectrum=Spectrum||{};(function(){var a=this;Object.defineProperty(Spectrum,"NAME",{value:"SpectrumJS"}),Object.defineProperty(Spectrum,"VERSION",{value:"v0.1.0a"}),Object.defineProperty(Spectrum,"BUTTONS",{value:13}),Spectrum.Gamepad=function(a){"use strict";this._input=input,this._btnBind=new Array(Spectrum.BUTTONS),this._btnFlagPress=new Array(Spectrum.BUTTONS),this._btnFlagRelease=new Array(Spectrum.BUTTONS),this._isAsync=a||!1,this._isAsync||this._init()},Spectrum.Gamepad.prototype.constuctor=Spectrum.Gamepad,Spectrum.Gamepad.prototype={_initFlags:function(){"use strict";for(var a=0;a<Spectrum.BUTTONS;a++)this._btnFlagPress[a]=this._btnFlagRelease[a]=!1},_bindSignals:function(){"use strict";try{this._input.pressed.connect(this,"_pressed"),this._input.released.connect(this,"_released"),this._input.pressing.connect(this,"_pressing")}catch(a){console.log("[ERROR] Spectrum found an error: "+a)}},_pressed:function(a){"use strict";this._btnFlagPress[a]=!0,this._btnFlagRelease[a]=!1},_released:function(a){"use strict";this._btnFlagPress[a]=!1,this._btnFlagRelease[a]=!0},_pressing:function(a){"use strict";this._btnFlagPress[a]&&this._pressed(a)},_init:function(){"use strict";this._initFlags(),this._bindSignals()},isButtonPressed:function(a){"use strict";return this._btnFlagPress[a]&&!this._btnFlagRelease[a]?(this._btnFlagPress[a]=!1,!0):!1},isButtonReleased:function(a){"use strict";return this._btnFlagRelease[a]&&!this._btnFlagPress[a]?(this._btnFlagRelease[a]=!1,!0):!1},isButtonPress:function(a){"use strict";return this._btnFlagPress[a]?!0:!1},registerMethod:function(a,b){"use strict";if(!this._isAsync)throw new Error("[ERROR] You can't register new functions in synchronous mode!");try{switch(a){case 0:this._input.pressed.connect(b);break;case 1:this._input.released.connect(b);break;case 2:this._input.pressing.connect(b)}}catch(c){console.log("[ERROR] Spectrum found an error: "+c)}},flush:function(){"use strict";for(;this._btnBind.length>0;)this._btnBind.pop()}},Object.defineProperty(Spectrum.Gamepad,"STATE_PRESSED",{value:0}),Object.defineProperty(Spectrum.Gamepad,"STATE_RELEASED",{value:1}),Object.defineProperty(Spectrum.Gamepad,"STATE_PRESS",{value:2}),Object.defineProperty(Spectrum.Gamepad,"BUTTON_START",{value:1}),Object.defineProperty(Spectrum.Gamepad,"BUTTON_SELECT",{value:2}),Object.defineProperty(Spectrum.Gamepad,"BUTTON_A",{value:3}),Object.defineProperty(Spectrum.Gamepad,"BUTTON_B",{value:4}),Object.defineProperty(Spectrum.Gamepad,"BUTTON_X",{value:5}),Object.defineProperty(Spectrum.Gamepad,"BUTTON_Y",{value:6}),Object.defineProperty(Spectrum.Gamepad,"BUTTON_L",{value:7}),Object.defineProperty(Spectrum.Gamepad,"BUTTON_R",{value:8}),Object.defineProperty(Spectrum.Gamepad,"DIR_UP",{value:9}),Object.defineProperty(Spectrum.Gamepad,"DIR_DOWN",{value:10}),Object.defineProperty(Spectrum.Gamepad,"DIR_LEFT",{value:11}),Object.defineProperty(Spectrum.Gamepad,"DIR_RIGHT",{value:12}),"undefined"!=typeof define&&define.amd?define("Spectrum",[],function(){return Spectrum}):"undefined"!=typeof module&&module.exports?exports=module.exports=Spectrum:a.Spectrum=Spectrum}).call(this);